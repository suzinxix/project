Index: app/src/main/res/layout/fragment_personal.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:background=\"@color/backgroundColor\">\r\n\r\n    <androidx.appcompat.widget.Toolbar\r\n        android:id=\"@+id/toolbarPersonal\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@color/mainColor\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/toolbar_title\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"center\"\r\n            android:textColor=\"#FFFFFF\"\r\n            android:text=\"개인페이지\"\r\n            android:fontFamily=\"@font/maplestorylight\"\r\n            android:textSize=\"30sp\"/>\r\n\r\n    </androidx.appcompat.widget.Toolbar>\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\"\r\n        android:layout_margin=\"30dp\"\r\n        android:paddingTop=\"20dp\"\r\n        android:background=\"#F2F2F2\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\"\r\n            android:padding=\"20dp\">\r\n\r\n\r\n            <de.hdodenhof.circleimageview.CircleImageView\r\n                android:layout_width=\"100dp\"\r\n                android:layout_height=\"100dp\"\r\n                android:src=\"@drawable/bee\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_pnick\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_margin=\"20dp\"\r\n                android:text=\"닉네임: -\"/>\r\n\r\n        </LinearLayout>\r\n\r\n\r\n\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_plevel\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"레벨: 0\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_pname\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"TextView\" />\r\n\r\n\r\n    </LinearLayout>\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_personal.xml	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ app/src/main/res/layout/fragment_personal.xml	(date 1622891302134)
@@ -68,6 +68,12 @@
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:text="TextView" />
+        <Button
+            android:id="@+id/stat_btn"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="누르지 마시오"/>
+
 
 
     </LinearLayout>
Index: app/src/main/java/com/example/studyproject/PersonalPageFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.studyproject;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class PersonalPageFragment extends Fragment {\r\n    private DatabaseReference mDatabase;\r\n    Button bt_personal;\r\n    Button bt_profileEdit;\r\n    EditText personalName, personalNick;\r\n    TextView tv_pname, tv_pnick;\r\n    String myname;\r\n    String nickname;\r\n    Toolbar toolbar_personal;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_personal, container, false);\r\n        setHasOptionsMenu(true); // 메뉴가 있음을 알림\r\n        //personalName = (EditText)view.findViewById(R.id.et_pname);\r\n        //personalNick = (EditText) view.findViewById(R.id.et_pnick);\r\n        //bt_personal = (Button) view.findViewById(R.id.bt_save);\r\n        tv_pname = (TextView) view.findViewById(R.id.tv_pname);\r\n        tv_pnick = (TextView) view.findViewById(R.id.tv_pnick);\r\n        //bt_profileEdit = view.findViewById(R.id.profileEdit);\r\n\r\n        // 툴바 추가\r\n        toolbar_personal = (Toolbar) view.findViewById(R.id.toolbarPersonal);\r\n        ((AppCompatActivity) getActivity()).setSupportActionBar(toolbar_personal);\r\n\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        mDatabase = FirebaseDatabase.getInstance().getReference();\r\n\r\n\r\n        mDatabase.child(\"users\").child(user.getUid()).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                // Get Post object and use the values to update the UI\r\n                if (dataSnapshot.getValue(User.class) != null) {\r\n                    User post = dataSnapshot.getValue(User.class);\r\n                    nickname = post.getNickname();\r\n                    tv_pnick.setText(nickname);\r\n                    Log.w(\"FireBaseData\", \"getData\" + post.toString());\r\n                } else {\r\n                    //Toast.makeText(MainActivity.this, \"데이터 없음...\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                // Getting Post failed, log a message\r\n                Log.w(\"FireBaseData\", \"loadPost:onCancelled\", databaseError.toException());\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    /*\r\n        ValueEventListener postListener = new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                // Get Post object and use the values to update the UI\r\n                User user1 = dataSnapshot.getValue(User.class);\r\n                // ..\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                // Getting Post failed, log a message\r\n                Log.w(TAG, \"loadPost:onCancelled\", databaseError.toException());\r\n            }\r\n        };\r\n        mDatabase.addValueEventListener(postListener);*/\r\n\r\n\r\n        if (user != null) {\r\n            myname = user.getDisplayName();\r\n\r\n            // Check if user's email is verified\r\n        }\r\n\r\n        tv_pname.setText(\"이름: \" + myname);\r\n\r\n\r\n        /*\r\n        bt_personal.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                personalNick.setText(personalNick.getText());\r\n            }\r\n        });\r\n\r\n         */\r\n        /*\r\n        bt_profileEdit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                getActivity().startActivity(new Intent(getActivity(), ProfileEditActivity.class));\r\n            }\r\n        });\r\n\r\n\r\n\r\n         */\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n        // TODO Add your menu entries here\r\n        inflater.inflate(R.menu.menu_personal, menu) ;\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.setting:\r\n                Intent intent = new Intent(getActivity(), SettingActivity.class);\r\n                startActivity(intent);\r\n                //((HomeActivity)getActivity()).replaceFragment(SettingFragment); //Fragment 변경\r\n\r\n\r\n                break;\r\n            case R.id.studylist:\r\n                // d\r\n                break;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/studyproject/PersonalPageFragment.java	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ app/src/main/java/com/example/studyproject/PersonalPageFragment.java	(date 1622891443732)
@@ -35,6 +35,7 @@
     String myname;
     String nickname;
     Toolbar toolbar_personal;
+    Button stat_btn;
 
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
@@ -47,6 +48,15 @@
         tv_pnick = (TextView) view.findViewById(R.id.tv_pnick);
         //bt_profileEdit = view.findViewById(R.id.profileEdit);
 
+        stat_btn = (Button) view.findViewById(R.id.stat_btn);
+        stat_btn.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent intent = new Intent(getActivity(), PhotoStatActivity.class);
+                startActivity(intent);
+            }
+        });
+
         // 툴바 추가
         toolbar_personal = (Toolbar) view.findViewById(R.id.toolbarPersonal);
         ((AppCompatActivity) getActivity()).setSupportActionBar(toolbar_personal);
Index: app/src/main/java/com/example/studyproject/PhotoStatActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/studyproject/PhotoStatActivity.java	(date 1623226124652)
+++ app/src/main/java/com/example/studyproject/PhotoStatActivity.java	(date 1623226124652)
@@ -0,0 +1,214 @@
+package com.example.studyproject;
+
+import androidx.annotation.NonNull;
+import androidx.appcompat.app.AppCompatActivity;
+import androidx.core.text.HtmlCompat;
+
+import android.graphics.Color;
+import android.os.Bundle;
+import android.text.Html;
+import android.widget.TextView;
+
+import com.github.mikephil.charting.charts.PieChart;
+import com.github.mikephil.charting.components.Legend;
+import com.github.mikephil.charting.data.PieData;
+import com.github.mikephil.charting.data.PieDataSet;
+import com.github.mikephil.charting.data.PieEntry;
+import com.github.mikephil.charting.formatter.PercentFormatter;
+import com.github.mikephil.charting.utils.ColorTemplate;
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.FirebaseUser;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+
+import org.jetbrains.annotations.NotNull;
+
+import java.text.SimpleDateFormat;
+import java.util.ArrayList;
+import java.util.Calendar;
+import java.util.Date;
+
+public class PhotoStatActivity extends AppCompatActivity {
+    private PieChart pieChart;
+    TextView total_date;
+    TextView time_stat;
+    TextView yoil_stat;
+
+    FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
+    DatabaseReference myRef = firebaseDatabase.getReference("gallery_url");
+
+    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser(); // 로그인한 유저 정보 가져오기
+    String uid = user != null ? user.getUid() : null;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_photo_stat);
+        pieChart = (PieChart) findViewById(R.id.piechart);
+        total_date = (TextView) findViewById(R.id.total_date);
+        time_stat = (TextView) findViewById(R.id.time_stat);
+        yoil_stat = (TextView) findViewById(R.id.yoil_stat);
+        setupPieChart();
+        retrieveData();
+    }
+
+    private void retrieveData(){
+        myRef.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                ArrayList<PieEntry> entries = new ArrayList<>();
+                String[] week = {"일","월", "화", "수","목","금","토"};
+                int[] weekdata = {0, 0, 0, 0, 0, 0, 0};
+                int[] time_zone={0, 0, 0, 0}; //dawn, morning, afternoon, evening
+
+                if (snapshot.hasChildren()){
+                    int i=0; // 갯수 세기
+
+                    for (DataSnapshot myDataSnapshot : snapshot.getChildren()) {
+                        GalleryDB dataPoint = myDataSnapshot.getValue(GalleryDB.class);
+                        if (dataPoint.getUserId().equals(uid)){
+                            String s = dataPoint.getPhotoText();
+                            String date = s.substring(0,8);
+                            for (int x=0;x<weekdata.length;x++){
+                                try{
+                                    if (week[x]==getDateDay(date))
+                                        weekdata[x]+=1;
+                                } catch (Exception e){
+                                    e.printStackTrace();
+                                }
+                            }
+                            int hour = Integer.parseInt(s.substring(9,11));
+                            if (hour>=6 && hour<=11) {
+                                time_zone[0] += 1;
+                            } else if (hour>=12 && hour<=17) {
+                                time_zone[1] += 1;
+                            } else if (hour>=18 && hour<=23) {
+                                time_zone[2] += 1;
+                            } else {
+                                time_zone[3] += 1;
+                            }
+                            i++;
+                        }
+                    }
+                    for (int y=0;y<7;y++){
+                        if (weekdata[y]!=0)
+                            entries.add(new PieEntry(weekdata[y], week[y]));
+                    }//요오기ㅣ이이ㅣ
+                    String yoil="";
+                    int max_yoil=0;
+                    for (int z=0;z<7;z++){
+                        if (weekdata[z]>max_yoil)
+                            max_yoil=weekdata[z];
+                    }
+
+                    yoil_stat.setText("주로 "+week[max_yoil]+"요일에 뭐한다고 해야하지");
+                    loadPieChartData(entries);
+                    total_date.setText("출석일수: "+i+" 번");
+
+                    int maxindex=0;
+                    for(int j=0;j<3;j++){
+                        if (time_zone[j]<time_zone[j+1])
+                            maxindex=j+1;
+                    }
+                    String time_z="";
+                    if(maxindex==0)
+                        time_z="오전";
+                    else if (maxindex==1)
+                        time_z="오후";
+                    else if (maxindex==2)
+                        time_z="저녁";
+                    else if (maxindex==3)
+                        time_z="새벽";
+                    time_stat.setText(Html.fromHtml("주로 집중하는 시간대는 <u>"+time_z+"</u> 이군요!", Html.FROM_HTML_MODE_LEGACY));
+                } else {
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+    }
+    private void setupPieChart() {
+        pieChart.setDrawHoleEnabled(true);
+        pieChart.setHoleColor(Color.WHITE);
+        pieChart.setTransparentCircleRadius(61F);
+        pieChart.setUsePercentValues(true);
+        pieChart.setEntryLabelTextSize(20);
+        pieChart.setEntryLabelColor(Color.BLACK);
+        pieChart.setCenterText("요일별 빈도");
+        pieChart.setCenterTextSize(24);
+        pieChart.getDescription().setEnabled(false);
+        pieChart.setDragDecelerationFrictionCoef(0.99F);
+
+        Legend l = pieChart.getLegend();
+        l.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);
+        l.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);
+        l.setOrientation(Legend.LegendOrientation.VERTICAL);
+        l.setDrawInside(false);
+        l.setEnabled(true);
+    }
+    private String getDateDay(String date) throws Exception {
+
+        String day = "";
+
+        SimpleDateFormat dateFormat = new SimpleDateFormat("yyyyMMdd");
+        Date nDate = dateFormat.parse(date);
+        Calendar cal = Calendar.getInstance();
+        cal.setTime(nDate);
+        int dayNum = cal.get(Calendar.DAY_OF_WEEK);
+        switch (dayNum) {
+            case 1:
+                day = "일";
+                break;
+            case 2:
+                day = "월";
+                break;
+            case 3:
+                day = "화";
+                break;
+            case 4:
+                day = "수";
+                break;
+            case 5:
+                day = "목";
+                break;
+            case 6:
+                day = "금";
+                break;
+            case 7:
+                day = "토";
+                break;
+
+        }
+
+        return day;
+
+    }
+    private void loadPieChartData(ArrayList<PieEntry> entries) {
+        ArrayList<Integer> colors = new ArrayList<>();
+        for (int color: ColorTemplate.MATERIAL_COLORS) {
+            colors.add(color);
+        }
+
+        for (int color: ColorTemplate.VORDIPLOM_COLORS) {
+            colors.add(color);
+        }
+
+        PieDataSet dataSet = new PieDataSet(entries, "");
+        dataSet.setColors(colors);
+
+        PieData data = new PieData(dataSet);
+        data.setDrawValues(true);
+        data.setValueFormatter(new PercentFormatter());
+        data.setValueTextColor(Color.BLACK);
+        data.setValueTextSize(18);
+
+        pieChart.setData(data);
+        pieChart.invalidate();
+    }
+}
\ No newline at end of file
Index: .idea/compiler.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"CompilerConfiguration\">\r\n    <bytecodeTargetLevel target=\"1.8\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/compiler.xml	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ .idea/compiler.xml	(date 1622870185647)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="CompilerConfiguration">
-    <bytecodeTargetLevel target="1.8" />
+    <bytecodeTargetLevel target="11" />
   </component>
 </project>
\ No newline at end of file
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.studyproject\">\r\n\r\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\" />\r\n    <!-- <uses-feature android:name=\"android.hardware.type.watch\" /> -->\r\n    <uses-permission android:name=\"android.permission.INTERNET\" /> <!-- 카메라, 내부 저장소 접근 권한 설정 -->\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.camera\"\r\n        android:required=\"true\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\"\r\n        android:usesCleartextTraffic=\"true\">\r\n        <!--\r\n        <uses-library\r\n            android:name=\"com.google.android.wearable\"\r\n            android:required=\"true\" />-->\r\n\r\n        <!--\r\n               Set to true if your app is Standalone, that is, it does not require the handheld\r\n               app to run.\r\n        -->\r\n        <meta-data\r\n            android:name=\"com.google.android.wearable.standalone\"\r\n            android:value=\"true\" />\r\n\r\n\r\n        <activity android:name=\".MainActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".RegisterActivity\" />\r\n        <activity\r\n            android:name=\".HomeActivity\"\r\n            android:windowSoftInputMode=\"adjustPan\" />\r\n        <activity android:name=\".LoginActivity\" />\r\n        <activity android:name=\".SettingActivity\" />\r\n        <activity android:name=\".SearchDetail\" />\r\n        <activity android:name=\".FindPwActivity\" />\r\n        <activity android:name=\".image\"/>\r\n\r\n        <provider\r\n            android:name=\"androidx.core.content.FileProvider\"\r\n            android:authorities=\"com.example.studyproject.fileprovider\"\r\n            android:exported=\"false\"\r\n            android:grantUriPermissions=\"true\">\r\n            <meta-data\r\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\r\n                android:resource=\"@xml/file_paths\" />\r\n        </provider>\r\n\r\n        <activity android:name=\".MakeRoom\" />\r\n\r\n        <service android:name=\".FirebasePushNotificationClass\"\r\n            android:enabled=\"true\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.RESPOND_VIA_MESSAGE\"></action>\r\n            </intent-filter>\r\n        </service>\r\n    </application>\r\n\r\n    <queries>\r\n        <intent>\r\n            <action android:name=\"android.intent.action.VIEW\" />\r\n            <category android:name=\"android.intent.category.BROWSABLE\" />\r\n            <data android:scheme=\"https\" />\r\n        </intent>\r\n    </queries>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ app/src/main/AndroidManifest.xml	(date 1622891433464)
@@ -2,8 +2,7 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="com.example.studyproject">
 
-    <uses-permission android:name="android.permission.WAKE_LOCK" />
-    <!-- <uses-feature android:name="android.hardware.type.watch" /> -->
+    <uses-permission android:name="android.permission.WAKE_LOCK" /> <!-- <uses-feature android:name="android.hardware.type.watch" /> -->
     <uses-permission android:name="android.permission.INTERNET" /> <!-- 카메라, 내부 저장소 접근 권한 설정 -->
     <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
     <uses-permission android:name="android.permission.CAMERA" />
@@ -13,6 +12,16 @@
         android:name="android.hardware.camera"
         android:required="true" />
 
+    <queries>
+        <intent>
+            <action android:name="android.intent.action.VIEW" />
+
+            <category android:name="android.intent.category.BROWSABLE" />
+
+            <data android:scheme="https" />
+        </intent>
+    </queries>
+
     <application
         android:allowBackup="true"
         android:icon="@mipmap/ic_launcher"
@@ -21,11 +30,12 @@
         android:supportsRtl="true"
         android:theme="@style/AppTheme"
         android:usesCleartextTraffic="true">
+        <activity android:name=".PhotoStatActivity"></activity>
         <!--
         <uses-library
             android:name="com.google.android.wearable"
-            android:required="true" />-->
-
+            android:required="true" />
+        -->
         <!--
                Set to true if your app is Standalone, that is, it does not require the handheld
                app to run.
@@ -34,7 +44,6 @@
             android:name="com.google.android.wearable.standalone"
             android:value="true" />
 
-
         <activity android:name=".MainActivity">
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
@@ -50,7 +59,7 @@
         <activity android:name=".SettingActivity" />
         <activity android:name=".SearchDetail" />
         <activity android:name=".FindPwActivity" />
-        <activity android:name=".image"/>
+        <activity android:name=".image" />
 
         <provider
             android:name="androidx.core.content.FileProvider"
@@ -64,21 +73,14 @@
 
         <activity android:name=".MakeRoom" />
 
-        <service android:name=".FirebasePushNotificationClass"
+        <service
+            android:name=".FirebasePushNotificationClass"
             android:enabled="true"
             android:exported="true">
             <intent-filter>
-                <action android:name="android.intent.action.RESPOND_VIA_MESSAGE"></action>
+                <action android:name="android.intent.action.RESPOND_VIA_MESSAGE" />
             </intent-filter>
         </service>
     </application>
 
-    <queries>
-        <intent>
-            <action android:name="android.intent.action.VIEW" />
-            <category android:name="android.intent.category.BROWSABLE" />
-            <data android:scheme="https" />
-        </intent>
-    </queries>
-
 </manifest>
\ No newline at end of file
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    buildFeatures{\r\n        viewBinding true\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.studyproject\"\r\n        minSdkVersion 26\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n\r\n    }\r\n}\r\n\r\ndependencies {\r\n    //photoview\r\n    implementation 'com.github.chrisbanes:PhotoView:2.3.0'\r\n\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation 'com.android.volley:volley:1.1.1'\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    //toolbar\r\n    implementation 'androidx.appcompat:appcompat:1.0.0'\r\n    //tablayout\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'com.google.firebase:firebase-storage:20.0.0'\r\n    implementation 'androidx.wear:wear:1.0.0'\r\n    implementation 'com.google.firebase:firebase-messaging:21.0.1'\r\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n\r\n    //cardview\r\n    implementation \"androidx.cardview:cardview:1.0.0\"\r\n    compileOnly 'com.google.android.wearable:wearable:2.6.0'\r\n\r\n    //room\r\n    def room_version = \"2.2.6\"\r\n    implementation \"androidx.room:room-runtime:$room_version\"\r\n    annotationProcessor \"androidx.room:room-compiler:$room_version\"\r\n    // optional - RxJava support for Room\r\n    implementation \"androidx.room:room-rxjava2:$room_version\"\r\n    // optional - Guava support for Room, including Optional and ListenableFuture\r\n    implementation \"androidx.room:room-guava:$room_version\"\r\n    // optional - Test helpers\r\n    testImplementation \"androidx.room:room-testing:$room_version\"\r\n\r\n    //firebase\r\n    implementation platform('com.google.firebase:firebase-bom:26.8.0')\r\n    implementation 'com.google.firebase:firebase-analytics'\r\n    implementation 'com.google.firebase:firebase-auth:16.0.5'\r\n    implementation 'com.google.android.gms:play-services-auth:17.0.0'\r\n    implementation 'com.google.firebase:firebase-database:17.0.0'\r\n    implementation 'com.google.firebase:firebase-database:19.7.0' //추가\r\n    implementation 'com.google.firebase:firebase-database:20.0.0'\r\n    implementation 'com.google.firebase:firebase-core:10.2.1'\r\n    implementation 'com.google.firebase:firebase-database:19.6.0'\r\n    implementation 'com.firebaseui:firebase-ui-database:7.1.1'\r\n\r\n    //firebase storage\r\n    implementation 'com.google.firebase:firebase-storage:19.2.2'\r\n\r\n    //firebase cloud messaging\r\n    implementation 'com.google.firebase:firebase-messaging:17.3.4'\r\n\r\n    // CircleImageView\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n\r\n    //TedPermission\r\n    implementation 'gun0912.ted:tedpermission:2.0.0'\r\n\r\n    //glide 이미지 로딩\r\n    implementation 'com.github.bumptech.glide:glide:4.9.0'\r\n    //+ 이미지로딩\r\n//    compile 'com.google.firebase:firebase-storage:12.0.0'\r\n//    compile 'com.firebaseui:firebase-ui-storage:3.2.2'\r\n//    implementation 'com.github.bumptech.glide:glide:4.6.1'\r\n//    annotationProcessor 'com.github.bumptech.glide:compiler:4.6.1'\r\n\r\n\r\n    implementation 'com.ismaeldivita.chipnavigation:chip-navigation-bar:1.3.4'\r\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.3.4'\r\n\r\n    //Gallery picasso\r\n    implementation 'com.squareup.picasso:picasso:2.3.3'\r\n}\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        classpath 'com.google.gms:google-services:4.3.8'\r\n    }\r\n}\r\n\r\napply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    buildFeatures{\r\n        viewBinding true\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.studyproject\"\r\n        minSdkVersion 26\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n\r\n    }\r\n}\r\n\r\ndependencies {\r\n    //photoview\r\n    implementation 'com.github.chrisbanes:PhotoView:2.3.0'\r\n\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation 'com.android.volley:volley:1.1.1'\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    //toolbar\r\n    implementation 'androidx.appcompat:appcompat:1.0.0'\r\n    //tablayout\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'com.google.firebase:firebase-storage:19.2.2'\r\n    implementation 'androidx.wear:wear:1.0.0'\r\n    implementation 'com.google.firebase:firebase-messaging:21.0.1'\r\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n\r\n    //cardview\r\n    implementation \"androidx.cardview:cardview:1.0.0\"\r\n    compileOnly 'com.google.android.wearable:wearable:2.6.0'\r\n\r\n    //room\r\n    def room_version = \"2.2.6\"\r\n    implementation \"androidx.room:room-runtime:$room_version\"\r\n    annotationProcessor \"androidx.room:room-compiler:$room_version\"\r\n    // optional - RxJava support for Room\r\n    implementation \"androidx.room:room-rxjava2:$room_version\"\r\n    // optional - Guava support for Room, including Optional and ListenableFuture\r\n    implementation \"androidx.room:room-guava:$room_version\"\r\n    // optional - Test helpers\r\n    testImplementation \"androidx.room:room-testing:$room_version\"\r\n\r\n    //firebase\r\n    implementation platform('com.google.firebase:firebase-bom:26.8.0')\r\n    implementation 'com.google.firebase:firebase-analytics'\r\n    implementation 'com.google.firebase:firebase-auth:16.0.5'\r\n    implementation 'com.google.android.gms:play-services-auth:17.0.0'\r\n    implementation 'com.google.firebase:firebase-database:17.0.0'\r\n    implementation 'com.google.firebase:firebase-database:19.7.0' //추가\r\n    implementation 'com.google.firebase:firebase-core:10.2.1'\r\n    implementation 'com.google.firebase:firebase-database:19.6.0'\r\n    implementation 'com.firebaseui:firebase-ui-database:7.1.1'\r\n\r\n    //firebase storage\r\n    implementation 'com.google.firebase:firebase-storage:19.2.2'\r\n\r\n    //firebase cloud messaging\r\n    implementation 'com.google.firebase:firebase-messaging:17.3.4'\r\n\r\n    // CircleImageView\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n\r\n    //TedPermission\r\n    implementation 'gun0912.ted:tedpermission:2.0.0'\r\n\r\n\r\n    implementation 'com.ismaeldivita.chipnavigation:chip-navigation-bar:1.3.4'\r\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.3.4'\r\n\r\n    //Gallery picasso\r\n    implementation 'com.squareup.picasso:picasso:2.3.3'\r\n}\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        classpath 'com.google.gms:google-services:4.3.8'\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ app/build.gradle	(date 1622891721478)
@@ -109,6 +109,9 @@
 
     //Gallery picasso
     implementation 'com.squareup.picasso:picasso:2.3.3'
+
+    implementation 'com.github.PhilJay:MpAndroidChart:v3.0.2'
+
 }
 buildscript {
     repositories {
Index: .idea/runConfigurations.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"RunConfigurationProducerService\">\r\n    <option name=\"ignoredProducers\">\r\n      <set>\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer\" />\r\n      </set>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/runConfigurations.xml	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ .idea/runConfigurations.xml	(date 1622870135985)
@@ -3,6 +3,7 @@
   <component name="RunConfigurationProducerService">
     <option name="ignoredProducers">
       <set>
+        <option value="com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_8\" default=\"true\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/misc.xml	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ .idea/misc.xml	(date 1622870185628)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_8" default="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="false" project-jdk-name="1.8" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
   <component name="ProjectType">
Index: app/src/main/res/layout/activity_photo_stat.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_photo_stat.xml	(date 1623082244492)
+++ app/src/main/res/layout/activity_photo_stat.xml	(date 1623082244492)
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".PhotoStatActivity"
+    android:orientation="vertical"
+    android:background="@color/backgroundColor">
+    <androidx.appcompat.widget.Toolbar
+        android:id="@+id/toolbarPersonal"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:background="@color/mainColor">
+
+        <TextView
+            android:id="@+id/toolbar_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center"
+            android:textColor="#FFFFFF"
+            android:text="내 공부량"
+            android:fontFamily="@font/maplestorylight"
+            android:textSize="30sp"/>
+
+    </androidx.appcompat.widget.Toolbar>
+
+    <TextView
+        android:id="@+id/total_date"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="총 출석일수는?"
+        android:textSize="25dp"
+        android:layout_marginTop="30dp"
+        android:layout_marginBottom="12dp"
+        android:fontFamily="@font/maplestorylight"
+        android:layout_gravity="center"/>
+
+    <TextView
+        android:id="@+id/time_stat"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="주로 집중하는 시간대는? "
+        android:textSize="20dp"
+        android:fontFamily="@font/maplestorylight"
+        android:layout_gravity="center" />
+
+    <com.github.mikephil.charting.charts.PieChart
+        android:id="@+id/piechart"
+        android:layout_width="match_parent"
+        android:layout_marginHorizontal="20dp"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="40dp"
+        android:fontFamily="@font/maplestorylight"/>
+
+    <TextView
+        android:id="@+id/yoil_stat"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="주로 집중하는 요일은?? "
+        android:textSize="20dp"
+        android:fontFamily="@font/maplestorylight"
+        android:layout_gravity="center" />
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">studyproject</string>\r\n    <string name=\"studycategory\">스터디룸의 카테고리를 설정해주세요</string>\r\n    <string name=\"studybutton\">스터디 개설</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"title_activity_find_id\">FindIdActivity</string>\r\n    <!--\r\n    This string is used for square devices and overridden by hello_world in\r\n    values-round/strings.xml for round devices.\r\n    -->\r\n    <string name=\"hello_world\">Hello Square World!</string>\r\n\r\n\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/strings.xml	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ app/src/main/res/values/strings.xml	(date 1622891433430)
@@ -12,5 +12,4 @@
     <string name="hello_world">Hello Square World!</string>
 
 
-
 </resources>
\ No newline at end of file
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath 'com.android.tools.build:gradle:4.1.2'\r\n        classpath 'com.google.gms:google-services:4.3.8'\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url \"https://www.jitpack.io\" }\r\n        maven { url 'https://jitpack.io' }\r\n    }\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        maven { url \"https://www.jitpack.io\" }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath 'com.android.tools.build:gradle:4.1.2'\r\n        classpath 'com.google.gms:google-services:4.3.5'\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url \"https://www.jitpack.io\" }\r\n        maven { url 'https://jitpack.io' }\r\n    }\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        maven { url \"https://www.jitpack.io\" }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- build.gradle	(revision 7479e0bdde80bba29f3db3600a7ad91c9b7a3673)
+++ build.gradle	(date 1622891721460)
@@ -3,6 +3,7 @@
     repositories {
         google()
         jcenter()
+        mavenCentral()
     }
     dependencies {
         classpath 'com.android.tools.build:gradle:4.1.2'
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_2021-06-05__1_23__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_2021-06-05__1_23__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_2021-06-04__12_21__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_2021-06-04__12_21__Default_Changelist_.xml
diff --git .idea/shelf/Uncommitted_changes_before_Update_at_2_13_21_2_31_AM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_2_13_21_2_31_AM__Default_Changelist_.xml
